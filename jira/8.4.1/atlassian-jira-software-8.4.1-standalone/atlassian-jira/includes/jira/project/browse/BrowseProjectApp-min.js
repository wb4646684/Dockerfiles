define("jira/project/browse/app",["underscore","backbone","jira/marionette-4.1","jira/util/navigation","jira/project/browse/layout","jira/project/browse/projectcollection","jira/project/browse/filtermodel","jira/project/browse/categorycollection","jira/project/browse/projecttypecollection","jira/project/browse/router"],function(e,t,o,i,r,a,s,c,l,p){"use strict";return o.Application.extend({initialize:function(e){this.categories=new c(e.categories),this.availableProjectTypes=new l(e.availableProjectTypes),this.projects=new a(e.projects,{mode:"client",state:{pageSize:25,currentPage:1},categories:this.categories,parse:!0}),this.categories.selectCategory(e.selectedCategory),e.availableProjectTypes?(this.availableProjectTypes.selectProjectType(e.selectedProjectType)||this.availableProjectTypes.selectProjectType("all"),this.filter=new s({category:this.categories.getSelected().toJSON(),projectType:this.availableProjectTypes.getSelected().toJSON()},{pageableCollection:this.projects})):this.filter=new s({category:this.categories.getSelected().toJSON()},{pageableCollection:this.projects})},onStart:function(){if(this.layout=new r({el:this.getRegion().$el,categories:this.categories,availableProjectTypes:this.availableProjectTypes,projects:this.projects,filter:this.filter}),new p({application:this}),t.History.started||t.history.start({pushState:i.pushStateSupported,root:i.getBackboneHistoryRoot()}),window.location.hash){var e=window.location.hash.substring(1);this.categories.get(e)&&this.layout.categoryChange(e)}}})});
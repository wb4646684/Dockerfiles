AJS.test.require(["jira.webresources:jira-global"],function(){var e=require("jquery");module("jira/dialog/init-generic-dialogs",{setup:function(){this.ajax=sinon.spy(e,"ajax")},teardown:function(){e.ajax.restore(),e("#-dialog").remove(),e(".aui-blanket").remove()}}),test("Dialog shows after clicking a link",function(){var i=e('<a class="trigger-dialog" href="#">Test</a>');e("#qunit-fixture").append(i),i.click(),ok(this.ajax.calledOnce),i.remove()}),test("Dialog shows after clicking aui-dropdown",function(){var i=e('<aui-item-link class="trigger-dialog" href="#">Test</aui-item-link>');e("#qunit-fixture").append(i),i.click(),ok(this.ajax.calledOnce),i.remove()}),test("No dialog without trigger-dialog class",function(){var i=e('<a href="http://test.com">Test</a>');e("#qunit-fixture").append(i),i.click(),ok(this.ajax.notCalled),i.remove()})});
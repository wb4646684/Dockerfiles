define("jira/share/entities/share-type/group-share",["jira/share/entities/display","jira/share/entities/share-permission","jira/share/i18n","jquery"],function(e,t,i,r){"use strict";function n(e){this.type="group",this.singleton=!1,this.parentElement=document.querySelector("."+e),this.dirty=!1}return n.prototype={initialise:function(){var e=this;this.groupSelect=this.getSubElement("group-share"),this.groupSelect&&r(this.groupSelect).change(function(t){e.groupChangeCallback(t)})},inputChangesExist:function(){return this.dirty},getDisplayFromUI:function(){if(this.groupSelect){var i=this.groupSelect.options[this.groupSelect.selectedIndex].value,r=new t(this.type,i,null);return new e(this.getDisplayString(i),this.getDescriptionString(i,!0),this.singleton,r)}},getDisplayDescriptionFromUI:function(){if(!this.groupSelect)return"";var e=this.groupSelect.options[this.groupSelect.selectedIndex].value;return this.getDescriptionString(e,!1)},getDisplayFromPermission:function(i){if(!i||i.type!==this.type||!i.param1)return null;var r=new t(this.type,i.param1,i.param2);return new e(this.getDisplayString(r.param1),this.getDescriptionString(i.param1,!0),this.singleton,r)},getDisplayString:function(e){var t=i.getMessage("share_group_display");return i.formatMessage(t,e)},getDescriptionString:function(e,t){var r=i.getMessage("share_group_description");return t?i.formatMessageUnescaped(r,e):i.formatMessage(r,e)},updateSelectionFromPermission:function(e){if(this.groupSelect)for(var t=e.param1,i=this.groupSelect.options,r=0;r<i.length;r++)i[r].value===t&&(i[r].selected=!0)},groupChangeCallback:function(){this.dirty=!0},getDisplayWarning:function(){return""},getSubElement:function(e){return this.parentElement.querySelector("."+e)}},n});
define("jira/pagination/paginationview",["jquery","underscore","jira/marionette-3.1"],function(e,t,i){"use strict";return i.View.extend({template:JIRA.Templates.Common.pagination,ui:{page:"li a",previous:"li.aui-nav-previous a",next:"li.aui-nav-next a"},events:{"click @ui.page":"clickPage","click @ui.previous":"clickPrevious","click @ui.next":"clickNext"},collectionEvents:{reset:"render",sync:"render"},onRender:function(){this.unwrapTemplate()},templateContext:function(){var e=t.extend({},this.collection.state);return e.firstPage=Math.max(e.currentPage-5,e.firstPage),e.totalPages=e.lastPage,e.lastPage=Math.min(e.currentPage+5,e.lastPage),e},clickPage:function(t){var i=this;t.preventDefault();var a=+e(t.target).attr("data-page");if(a){var n=this.collection.getPage(a);"client"===this.collection.mode?this.triggerMethod("navigate",a):"server"===this.collection.mode&&(this.triggerMethod("navigate:start"),n.done(function(){return i.triggerMethod("navigate",a)}).fail(function(e){return i.triggerMethod("navigate:error",e)}).always(function(){return i.triggerMethod("navigate:end")}))}},clickPrevious:function(){this.triggerMethod("navigate-previous")},clickNext:function(){this.triggerMethod("navigate-next")}})});
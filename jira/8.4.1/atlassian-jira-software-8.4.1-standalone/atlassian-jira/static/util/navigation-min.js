var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/util/navigation",["backbone","underscore","jira/libs/parse-uri"],function(t,e,o){"use strict";return{pushStateSupported:!!window.history.pushState,getBackboneHistoryRoot:function(){return this.pushStateSupported?"":this.getRoot()},getRoot:function(){return window.location.pathname},navigate:function(e,o){"object"===(void 0===e?"undefined":_typeof(e))&&(e=this.buildQuery(e)),this.pushStateSupported&&(e=this.getRoot()+e),t.history.navigate(e,o)},replaceUrlParam:function(t,e,o){null==o&&(o="");var n=new RegExp("\\b("+e+"=).*?(&|#|$)");return t.search(n)>=0?t.replace(n,"$1"+o+"$2"):(t=t.replace(/[?#]$/,""))+(t.indexOf("?")>=0?"&":"?")+e+"="+o},addParam:function(e,o){var n=Object.keys(e)[0],r=e[n],i=window.location.search,a=this.replaceUrlParam(i,n,r);this.pushStateSupported&&(a=this.getRoot()+a),t.history.navigate(a,o)},getParam:function(t,e,n){n=n||window.location;var r=o(n),i=r.queryKey;return e&&r.anchor&&r.anchor.split("&").forEach(function(t){var e=t.split("=");2===e.length&&(i[e[0]]=e[1])}),void 0===i[t]?void 0:decodeURIComponent(i[t].replace(/\+/g," "))},buildQuery:function(t){var o=e.reduce(t,function(t,e,o){return!1!==e?t+"&"+encodeURIComponent(o)+"="+encodeURIComponent(e).replace(/%20/g,"+"):t},"");return this.pushStateSupported?o.replace("&","?"):o.substr(1)}}});